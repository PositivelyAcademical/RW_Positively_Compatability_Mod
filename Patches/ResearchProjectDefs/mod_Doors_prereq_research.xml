<?xml version="1.0" encoding="UTF-8"?>
<Patch>

<!--  ==============================================================================================================  -->
<!--  What this xml patch does:                                                                                       -->
<!--  ==============================================================================================================  -->
<!--     + ALL_CASES                                                                                                  -->
<!--       + For ProjectHeron_Curtains DO_NOTHING                                                                     -->
<!--       + For ProjectHeron_Gates DO_NOTHING                                                                        -->
<!--       + For ProjectHeron_PrisonDoors ADD prerequisites li Smithing                                               -->
<!--       + For ProjectHeron_RemoteDoors ADD prerequisites li Autodoors                                              -->
<!--                                                        li MicroelectronicsBasics                                 -->
<!--  ==============================================================================================================  -->
<!--     + NO_MATCH '[WD] Simple Concrete'                                                                            -->
<!--       + For ProjectHeron_BlastDoors ADD prerequisites li Machining                                               -->
<!--                                                       li MicroelectronicsBasics                                  -->
<!--  ==============================================================================================================  -->
<!--     + MATCH '[WD] Simple Concrete'                                                                               -->
<!--       + For ProjectHeron_BlastDoors ADD prerequisites li Machining                                               -->
<!--                                                       li MicroelectronicsBasics                                  -->
<!--                                                       li WDReinforcedConcrete                                    -->
<!--  ==============================================================================================================  -->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Doors Expanded</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>

<!--  ==============================================================================================================  -->
<!--     + ALL_CASES                                                                                                  -->
<!--  ==============================================================================================================  -->
<!--       + For ProjectHeron_PrisonDoors ADD prerequisites li Smithing                                               -->
<!--       + For ProjectHeron_RemoteDoors ADD prerequisites li Autodoors                                              -->
<!--                                                        li MicroelectronicsBasics                                 -->
<!--  ==============================================================================================================  -->
                <li Class = "PatchOperationAdd">
                    <xpath>/Defs/ResearchProjectDef[defName="ProjectHeron_PrisonDoors"]</xpath>
                    <value>
                        <prerequisites>
                            <li>Smithing</li>
                        </prerequisites>
                    </value>
                </li>

                <li Class = "PatchOperationAdd">
                    <xpath>/Defs/ResearchProjectDef[defName="ProjectHeron_RemoteDoors"]</xpath>
                    <value>
                        <prerequisites>
                            <li>Autodoors</li>
                            <li>MicroelectronicsBasics</li>
                        </prerequisites>
                    </value>
                </li>

<!--  ==============================================================================================================  -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>[WD] Simple Concrete</li>
                    </mods>
                    <nomatch Class="PatchOperationSequence">
                        <operations>

<!--  ==============================================================================================================  -->
<!--     + NO_MATCH '[WD] Simple Concrete'                                                                            -->
<!--  ==============================================================================================================  -->
<!--       + For ProjectHeron_BlastDoors ADD prerequisites li Machining                                               -->
<!--                                                       li MicroelectronicsBasics                                  -->
<!--  ==============================================================================================================  -->
                            <li Class = "PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ProjectHeron_BlastDoors"]</xpath>
                                <value>
                                    <prerequisites>
                                        <li>Machining</li>
                                        <li>MicroelectronicsBasics</li>
                                    </prerequisites>
                                </value>
                            </li>

<!--  ==============================================================================================================  -->
                        </operations>
                    </nomatch>

                    <match Class="PatchOperationSequence">
                        <operations>

<!--  ==============================================================================================================  -->
<!--     + MATCH '[WD] Simple Concrete'                                                                               -->
<!--  ==============================================================================================================  -->
<!--       + For ProjectHeron_BlastDoors ADD prerequisites li Machining                                               -->
<!--                                                       li MicroelectronicsBasics                                  -->
<!--                                                       li WDReinforcedConcrete                                    -->
<!--  ==============================================================================================================  -->
                            <li Class = "PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ProjectHeron_BlastDoors"]</xpath>
                                <value>
                                    <prerequisites>
                                        <li>Machining</li>
                                        <li>MicroelectronicsBasics</li>
                                        <li>WDReinforcedConcrete</li>
                                    </prerequisites>
                                </value>
                            </li>

<!--  ==============================================================================================================  -->
                        </operations>
                    </match>
                </li>

            </operations>
        </match>
    </Operation>

</Patch>
