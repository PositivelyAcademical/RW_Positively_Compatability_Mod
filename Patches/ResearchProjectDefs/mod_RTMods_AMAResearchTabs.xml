<?xml version="1.0" encoding="UTF-8"?>
<Patch>

<!--  ==============================================================================================================  -->
<!--  What this xml patch does:                                                                                       -->
<!--  ==============================================================================================================  -->
<!--     + If MATCH AdMechArmoury                                                                                     -->
<!--       + If MATCH RTFuse RTPowerSwitch RTSolarFlareShield                                                         -->
<!--         + For ResearchTabDef (RTMods) REPLACE ./                                                                 -->
<!--  ==============================================================================================================  -->
<!--       + If MATCH RTFuse                                                                                          -->
<!--         +  For ResearchProjectDef (ResearchProject_RTBasicFuses) ADD tags li  POS_RTMods                         -->
<!--         +  For ResearchProjectDef (ResearchProject_RTCircuitBreakers) ADD tags li  POS_RTMods                    -->
<!--  ==============================================================================================================  -->
<!--       + If MATCH RTPowerSwitch                                                                                   -->
<!--         +  For ResearchProjectDef (ResearchProject_RTEmergencyPower) ADD tags li  POS_RTMods                     -->
<!--  ==============================================================================================================  -->
<!--       + If MATCH RTSolarFlareShield                                                                              -->
<!--         +  For ResearchProjectDef (ResearchProject_RTMagneticShield) ADD tags li  POS_RTMods                     -->
<!--  ==============================================================================================================  -->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Adeptus Mechanicus: Armoury</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>

<!--  ==============================================================================================================  -->
<!--       + If MATCH RTFUSE RTPowerSwitch RTSolarFlareShield                                                         -->
<!--  ==============================================================================================================  -->
<!--         + For ResearchTabDef (RTMods) REPLACE ./                                                                 -->
<!--  ==============================================================================================================  -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>RT Fuse</li>
                        <li>RT Power Switch</li>
                        <li>RT Solar Flare Shield</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <operations>

                            <li Class="PatchOperationReplace">
                                <xpath>/Defs/ResearchTabDef[defName="RTMods"]</xpath>
                                <value>
                                    <AdeptusMechanicus.ResearchSubTabDef>
                                        <defName>RTMods</defName>
                                        <label>RT Mods</label>
                                        <parentTab>POS_ResearchTab</parentTab>
                                        <tagdef>POS_RTMods</tagdef>
                                    </AdeptusMechanicus.ResearchSubTabDef>
                                </value>
                            </li>

                        </operations>
                    </match>
                </li>

<!--  ==============================================================================================================  -->
<!--       + If MATCH RTFuse                                                                                          -->
<!--  ==============================================================================================================  -->
<!--         +  For ResearchProjectDef (ResearchProject_RTBasicFuses) ADD tags li  POS_RTMods                         -->
<!--         +  For ResearchProjectDef (ResearchProject_RTCircuitBreakers) ADD tags li  POS_RTMods                    -->
<!--  ==============================================================================================================  -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>RT Fuse</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <operations>

                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ResearchProject_RTBasicFuses"]</xpath>
                                <value>
                                    <tags>
                                        <li>POS_RTMods</li>
                                    </tags>
                                </value>
                            </li>

                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ResearchProject_RTCircuitBreakers"]</xpath>
                                <value>
                                    <tags>
                                        <li>POS_RTMods</li>
                                    </tags>
                                </value>
                            </li>

                        </operations>
                    </match>
                </li>

<!--  ==============================================================================================================  -->
<!--       + If MATCH RTPowerSwitch                                                                                   -->
<!--  ==============================================================================================================  -->
<!--         +  For ResearchProjectDef (ResearchProject_RTEmergencyPower) ADD tags li  POS_RTMods                     -->
<!--  ==============================================================================================================  -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>RT Power Switch</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <operations>

                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ResearchProject_RTEmergencyPower"]</xpath>
                                <value>
                                    <tags>
                                        <li>POS_RTMods</li>
                                    </tags>
                                </value>
                            </li>

                        </operations>
                    </match>
                </li>

<!--  ==============================================================================================================  -->
<!--       + If MATCH RTSolarFlareShield                                                                              -->
<!--  ==============================================================================================================  -->
<!--         +  For ResearchProjectDef (ResearchProject_RTMagneticShield) ADD tags li  POS_RTMods                     -->
<!--  ==============================================================================================================  -->
                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>RT Solar Flare Shield</li>
                    </mods>
                    <match Class="PatchOperationSequence">
                        <operations>

                            <li Class="PatchOperationAdd">
                                <xpath>/Defs/ResearchProjectDef[defName="ResearchProject_RTMagneticShield"]</xpath>
                                <value>
                                    <tags>
                                        <li>POS_RTMods</li>
                                    </tags>
                                </value>
                            </li>

                        </operations>
                    </match>
                </li>

<!--  ==============================================================================================================  -->
            </operations>
        </match>
    </Operation>

</Patch>
